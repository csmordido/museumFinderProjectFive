(this["webpackJsonpmuseum-finder"]=this["webpackJsonpmuseum-finder"]||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},23:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),u=a.n(n),i=a(17),s=a.n(i),r=(a(23),a(3)),l=a(4),c=a(2),m=a(6),o=a(5),d=a(7),p=a.n(d),h=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onTextInputChange(e.target.value)},n.handleSubmit=function(e){n.props.onFormSubmit(e)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return u.a.createElement("form",{onSubmit:this.handleSubmit},u.a.createElement("input",{value:this.props.value,type:"text",placeholder:"Enter City",onChange:this.handleChange}),u.a.createElement("input",{type:"submit",value:"Search"}))}}]),a}(n.Component),b=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t=e.currentTarget.getAttribute("data-xid");p()({url:"https://api.opentripmap.com/0.1/en/places/xid/".concat(t),method:"GET",responseType:"JSON",params:{apikey:"5ae2e3f221c38a28845f05b6c25ce5d3be16ef238b3cedc588767b71"}}).then((function(e){var t=[];t.push(e.data),n.props.onDataUpdate(t)}))},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return u.a.createElement("li",{"data-xid":this.props.museumXid,onClick:this.handleClick},u.a.createElement("span",null,u.a.createElement("i",{className:"fas fa-landmark"})),u.a.createElement("h2",null,this.props.museumName))}}]),a}(n.Component),f=function(e){var t=e.imgDetail,a=e.nameDetail,n=e.addressDetail,i=e.urlDetail,s=e.infoDetail,r=n.house_number,l=n.road,c=n.city,m=n.state,o=n.postcode,d=n.country;return u.a.createElement("section",{className:"museumDetails"},u.a.createElement("div",{className:"museumImg"},u.a.createElement("img",{src:t,alt:a})),u.a.createElement("div",{className:"museumInfo"},u.a.createElement("h2",null,a),u.a.createElement("address",null,r," ",l,", ",c,", ",m,", ",o," ",d),u.a.createElement("a",{href:i},"Visit ",a,"'s website"),u.a.createElement("p",null,s),u.a.createElement("button",{type:"button"},"Go back to list")))},E=function(e){Object(m.a)(a,e);var t=Object(o.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a="5ae2e3f221c38a28845f05b6c25ce5d3be16ef238b3cedc588767b71";p()({url:"https://api.opentripmap.com/0.1/en/places/geoname",method:"GET",responseType:"JSON",params:{name:e.state.userInput,apikey:a}}).then((function(t){var n=t.data.lon,u=t.data.lat;e.updateMuseumsData(n,u,a)})),e.setState({userInput:""})},e.updateMuseumsData=function(t,a,n){p()({url:"https://api.opentripmap.com/0.1/en/places/radius",method:"GET",responseType:"JSON",params:{radius:1e5,lon:t,lat:a,kinds:"museums",rate:"3",format:"json",limit:10,apikey:n}}).then((function(t){var a=[];t.data.forEach((function(e){a.push(e)})),e.setState({museumsData:a})}))},e.state={userInput:"",museumsData:[],museumDetails:[]},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(c.a)(e)),e.updateMuseumDetails=e.updateMuseumDetails.bind(Object(c.a)(e)),e}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState({userInput:e})}},{key:"updateMuseumDetails",value:function(e){this.setState({museumDetails:e})}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement("header",null,u.a.createElement("h1",null,"Museum ",u.a.createElement("span",null,"Finder"))),u.a.createElement("main",{className:"wapper"},u.a.createElement(h,{onTextInputChange:this.handleChange,value:this.state.userInput,onFormSubmit:this.handleSubmit}),u.a.createElement("section",{className:"museumsList"},u.a.createElement("ul",null,this.state.museumsData.map((function(t){return u.a.createElement(b,{key:t.xid,museumName:t.name,museumXid:t.xid,onDataUpdate:e.updateMuseumDetails})})))),this.state.museumDetails.map((function(e){return u.a.createElement(f,{key:e.xid,imgDetail:e.preview.source,nameDetail:e.name,addressDetail:e.address,urlDetail:e.url,infoDetail:e.wikipedia_extracts.text})}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.fa659597.chunk.js.map