(this["webpackJsonpmuseum-finder"]=this["webpackJsonpmuseum-finder"]||[]).push([[0],{18:function(e,t,a){e.exports=a(41)},23:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),l=a.n(i),u=(a(23),a(3)),s=a(4),c=a(2),o=a(6),m=a(5),d=a(7),p=a.n(d),h=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.props.onTextInputChange(e.target.value)},n.handleSubmit=function(e){n.props.onFormSubmit(e)},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",{className:"visuallyHidden",htmlFor:"city"},"Enter a city"),r.a.createElement("input",{id:"city",value:this.props.value,type:"text",placeholder:"Enter City",onChange:this.handleChange}),r.a.createElement("label",{className:"visuallyHidden",htmlFor:"submit"},"Search"),r.a.createElement("input",{id:"submit",type:"submit",value:"Search"}),r.a.createElement("p",null,"Enter a city to search for museums."))}}]),a}(n.Component),f=function(e){document.getElementById(e).scrollIntoView({behavior:"smooth"})},b=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleClick=function(e){var t=e.currentTarget.getAttribute("data-xid");p()({url:"https://api.opentripmap.com/0.1/en/places/xid/".concat(t),method:"GET",responseType:"JSON",params:{apikey:"5ae2e3f221c38a28845f05b6c25ce5d3be16ef238b3cedc588767b71"}}).then((function(e){var t=[];t.push(e.data),n.props.onDataUpdate(t),f("detailsContainer")}))},n.handleClick=n.handleClick.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("li",{"data-xid":this.props.museumXid,onClick:this.handleClick},r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-landmark"})),r.a.createElement("h3",null,this.props.museumName))}}]),a}(n.Component),y=function(){f("listContainer"),setTimeout((function(){document.getElementById("detailsContainer").style.display="none"}),400)},v=function(e){var t=e.imgDetail,a=e.nameDetail,n=e.addressDetail,i=e.urlDetail,l=e.infoDetail,u=n.house_number,s=n.road,c=n.city,o=n.state,m=n.postcode,d=n.country;return r.a.createElement("section",{className:"museumDetails",id:"detailsContainer"},r.a.createElement("div",{className:"museumImg"},r.a.createElement("img",{src:t,alt:a})),r.a.createElement("div",{className:"museumInfo"},r.a.createElement("h2",null,a),r.a.createElement("address",null,u," ",s,", ",c,", ",o,", ",m," ",d),r.a.createElement("a",{href:i},"Visit ",a,"'s website"),r.a.createElement("p",null,l),r.a.createElement("button",{onClick:y,type:"button"},"Go back to list")))},E=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(u.a)(this,a),t.call(this,e)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"cityInfo"},r.a.createElement("p",null,"Museums in"),r.a.createElement("h2",null,this.props.city,", ",this.props.country))}}]),a}(n.Component);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var j=r.a.createElement("path",{d:"m49.971 27.14c-.109-1.729-8.468-21.875-8.468-21.875-1.999-3.168-4.146-5.337-7.346-5.133-2.771.175-5.158 1.847-6.16 4.482 0 0-2.958 6.389-2.973 6.389l-2.877-6.389c-1-2.635-3.5-4.426-6.271-4.601-3.199-.204-5.363 2.084-7.362 5.252 0 0-8.376 20.146-8.486 21.875-.444 6.978 4.345 12.962 10.66 13.361 6.066.386 11.371-4.511 12.179-11.079.569.201 3.735.228 4.304.027.809 6.567 6.1 11.452 12.166 11.065 6.315-.398 11.079-6.396 10.634-13.374z",fill:"#222"}),C=function(e){var t=e.svgRef,a=e.title,n=O(e,["svgRef","title"]);return r.a.createElement("svg",g({enableBackground:"new 0 0 50 40.537",height:"auto",viewBox:"0 0 50 40.537",width:50,ref:t},n),a?r.a.createElement("title",null,a):null,j)},k=r.a.forwardRef((function(e,t){return r.a.createElement(C,g({svgRef:t},e))})),D=(a.p,function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleSubmit=function(t){t.preventDefault();var a="5ae2e3f221c38a28845f05b6c25ce5d3be16ef238b3cedc588767b71";p()({url:"https://api.opentripmap.com/0.1/en/places/geoname",method:"GET",responseType:"JSON",params:{name:e.state.userInput,apikey:a}}).then((function(t){var n=t.data.lon,r=t.data.lat,i=[];i.push(t.data.name,t.data.country),e.setState({cityInfo:i}),e.updateMuseumsData(n,r,a)})),e.setState({userInput:""})},e.updateMuseumsData=function(t,a,n){p()({url:"https://api.opentripmap.com/0.1/en/places/radius",method:"GET",responseType:"JSON",params:{radius:1e5,lon:t,lat:a,kinds:"museums",rate:"3",format:"json",limit:10,apikey:n}}).then((function(t){var a=[];t.data.forEach((function(e){a.push(e)})),e.setState({museumsData:a}),e.state.museumsData&&f("listContainer")}))},e.state={userInput:"",cityInfo:[],museumsData:[],museumDetails:[]},e.handleChange=e.handleChange.bind(Object(c.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(c.a)(e)),e.updateMuseumDetails=e.updateMuseumDetails.bind(Object(c.a)(e)),e}return Object(s.a)(a,[{key:"handleChange",value:function(e){this.setState({userInput:e})}},{key:"updateMuseumDetails",value:function(e){this.setState({museumDetails:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Museum ",r.a.createElement("span",null,r.a.createElement(k,{className:"logo"}),"Finder"))),r.a.createElement("main",{className:"wapper"},r.a.createElement(h,{onTextInputChange:this.handleChange,value:this.state.userInput,onFormSubmit:this.handleSubmit})),r.a.createElement("section",{className:"museumsList",id:"listContainer"},this.state.cityInfo.length>0?r.a.createElement(E,{city:this.state.cityInfo[0],country:this.state.cityInfo[1]}):null,r.a.createElement("ul",null,this.state.museumsData.map((function(t){return r.a.createElement(b,{key:t.xid,museumName:t.name,museumXid:t.xid,onDataUpdate:e.updateMuseumDetails})})))),this.state.museumDetails.map((function(e){return r.a.createElement(v,{key:e.xid,imgDetail:e.preview.source,nameDetail:e.name,addressDetail:e.address,urlDetail:e.url,infoDetail:e.wikipedia_extracts.text})})))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.a561f34d.chunk.js.map